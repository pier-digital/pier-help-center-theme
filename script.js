(()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(e,t){var n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];window.clearTimeout(n),n=window.setTimeout((function(){e.apply(null,o)}),t)}}var n="search-has-value",r="form[role='search']";function o(e){var t;e.target.closest(r).classList.remove(n),(t="INPUT"===e.target.tagName?e.target:"BUTTON"===e.target.tagName?e.target.previousElementSibling:e.target.closest("button").previousElementSibling).value="",t.focus()}function i(e){["Delete","Escape"].includes(e.key)&&o(e)}var s,a=t((function(e){e.target.closest(r).classList.toggle(n,e.target.value.length>0)}),200);document.addEventListener("DOMContentLoaded",(function(){function t(e,t){if(Element.prototype.closest)return e.closest(t);do{if(Element.prototype.matches&&e.matches(t)||Element.prototype.msMatchesSelector&&e.msMatchesSelector(t)||Element.prototype.webkitMatchesSelector&&e.webkitMatchesSelector(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}var s,c=(s=document.querySelectorAll(r),function(t){if(Array.isArray(t))return e(t)}(s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e.querySelector("input[type='search']")}));function u(){var e=document.activeElement.getAttribute("id");sessionStorage.setItem("returnFocusTo","#"+e)}c.length&&c.forEach((function(e){(function(e,t){searchClearButton=function(e){var t=document.createElement("button");t.setAttribute("type","button"),t.setAttribute("aria-controls",e),t.classList.add("clear-button");var n=window.searchClearButtonLabelLocalized,r="<svg xmlns='http://www.w3.org/2000/svg' width='12' height='12' focusable='false' role='img' viewBox='0 0 12 12' aria-label='".concat(n,"'><path stroke='currentColor' stroke-linecap='round' stroke-width='2' d='M3 9l6-6m0 6L3 3'/></svg>");return t.innerHTML=r,t.addEventListener("click",o),t.addEventListener("keyup",i),t}(e.id),t.append(searchClearButton),e.value.length>0&&t.classList.add(n)})(e,e.closest(r)),e.addEventListener("keyup",i),e.addEventListener("keyup",a)})),Array.prototype.forEach.call(document.querySelectorAll(".share a"),(function(e){e.addEventListener("click",(function(e){e.preventDefault(),window.open(this.href,"","height = 500, width = 500")}))}));var l=sessionStorage.getItem("returnFocusTo");if(l){sessionStorage.removeItem("returnFocusTo");var d=document.querySelector(l);d&&d.focus&&d.focus()}var m=document.querySelector(".comment-container textarea"),h=document.querySelector(".comment-form-controls, .comment-ccs");m&&(m.addEventListener("focus",(function e(){h.style.display="block",m.removeEventListener("focus",e)})),""!==m.value&&(h.style.display="block"));var p=document.querySelector(".request-container .comment-container .comment-show-container"),f=document.querySelectorAll(".request-container .comment-container .comment-fields"),v=document.querySelector(".request-container .comment-container .request-submit-comment");p&&p.addEventListener("click",(function(){p.style.display="none",Array.prototype.forEach.call(f,(function(e){e.style.display="block"})),v.style.display="inline-block",m&&m.focus()}));var g=document.querySelector(".request-container .mark-as-solved:not([data-disabled])"),y=document.querySelector(".request-container .comment-container input[type=checkbox]"),b=document.querySelector(".request-container .comment-container input[type=submit]");g&&g.addEventListener("click",(function(){y.setAttribute("checked",!0),b.disabled=!0,this.setAttribute("data-disabled",!0),t(this,"form").submit()}));var L=document.querySelector(".request-container .comment-container textarea");function E(e){return""===e.trim()}var S=L&&"wysiwyg"===L.dataset.helper?function(e){var t=(new DOMParser).parseFromString("<_>".concat(e,"</_>"),"text/xml");return null===t.querySelector("img")&&E(t.children[0].textContent)}:E;L&&L.addEventListener("input",(function(){S(L.value)?(g&&(g.innerText=g.getAttribute("data-solve-translation")),b.disabled=!0):(g&&(g.innerText=g.getAttribute("data-solve-and-submit-translation")),b.disabled=!1)})),L&&S(L.value)&&(b.disabled=!0),Array.prototype.forEach.call(document.querySelectorAll("#request-status-select, #request-organization-select"),(function(e){e.addEventListener("change",(function(e){e.stopPropagation(),u(),t(this,"form").submit()}))}));var w=document.querySelector("#quick-search");function k(e,t){var n="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!n),e.setAttribute("aria-expanded",!n)}function _(e,t){t.setAttribute("aria-expanded",!1),e.setAttribute("aria-expanded",!1),e.focus()}w&&w.addEventListener("keyup",(function(e){13===e.keyCode&&(e.stopPropagation(),u(),t(this,"form").submit())}));var q=document.querySelector(".header .menu-button-mobile"),A=document.querySelector("#user-nav-mobile");q&&q.addEventListener("click",(function(e){e.stopPropagation(),k(this,A)})),A&&A.addEventListener("keyup",(function(e){27===e.keyCode&&(e.stopPropagation(),_(q,this))}));var x=document.querySelectorAll(".collapsible-nav, .collapsible-sidebar");Array.prototype.forEach.call(x,(function(e){var t=e.querySelector(".collapsible-nav-toggle, .collapsible-sidebar-toggle");e.addEventListener("click",(function(e){k(t,this)})),e.addEventListener("keyup",(function(e){27===e.keyCode&&_(t,this)}))}));var I=document.querySelector("#request-organization select");I&&I.addEventListener("change",(function(){t(this,"form").submit()}));var M=document.querySelectorAll(".multibrand-filter-list");Array.prototype.forEach.call(M,(function(e){if(e.children.length>6){var t=e.querySelector(".see-all-filters");t.setAttribute("aria-hidden",!1),t.addEventListener("click",(function(n){n.stopPropagation(),t.parentNode.removeChild(t),e.classList.remove("multibrand-filter-list--collapsed")}))}}));var C=document.querySelector(".notification-error");function T(e,t){this.toggle=e,this.menu=t,this.menuPlacement={top:t.classList.contains("dropdown-menu-top"),end:t.classList.contains("dropdown-menu-end")},this.toggle.addEventListener("click",this.clickHandler.bind(this)),this.toggle.addEventListener("keydown",this.toggleKeyHandler.bind(this)),this.menu.addEventListener("keydown",this.menuKeyHandler.bind(this))}C&&C.previousElementSibling&&"function"==typeof C.previousElementSibling.focus&&C.previousElementSibling.focus(),T.prototype={get isExpanded(){return"true"===this.menu.getAttribute("aria-expanded")},get menuItems(){return Array.prototype.slice.call(this.menu.querySelectorAll("[role='menuitem']"))},dismiss:function(){this.isExpanded&&(this.menu.setAttribute("aria-expanded",!1),this.menu.classList.remove("dropdown-menu-end","dropdown-menu-top"))},open:function(){this.isExpanded||(this.menu.setAttribute("aria-expanded",!0),this.handleOverflow())},handleOverflow:function(){var e=this.menu.getBoundingClientRect(),t=e.left<0||e.left+e.width>window.innerWidth,n=e.top<0||e.top+e.height>window.innerHeight;(t||this.menuPlacement.end)&&this.menu.classList.add("dropdown-menu-end"),(n||this.menuPlacement.top)&&this.menu.classList.add("dropdown-menu-top"),this.menu.getBoundingClientRect().top<0&&this.menu.classList.remove("dropdown-menu-top")},focusNextMenuItem:function(e){if(this.menuItems.length){var t=this.menuItems.indexOf(e),n=t===this.menuItems.length-1||t<0?0:t+1;this.menuItems[n].focus()}},focusPreviousMenuItem:function(e){if(this.menuItems.length){var t=this.menuItems.indexOf(e),n=t<=0?this.menuItems.length-1:t-1;this.menuItems[n].focus()}},clickHandler:function(){this.isExpanded?this.dismiss():this.open()},toggleKeyHandler:function(e){switch(e.keyCode){case 13:case 32:case 40:e.preventDefault(),this.open(),this.focusNextMenuItem();break;case 38:e.preventDefault(),this.open(),this.focusPreviousMenuItem();break;case 27:this.dismiss(),this.toggle.focus()}},menuKeyHandler:function(e){var t=this.menuItems[0],n=this.menuItems[this.menuItems.length-1],r=e.target;switch(e.keyCode){case 27:this.dismiss(),this.toggle.focus();break;case 40:e.preventDefault(),this.focusNextMenuItem(r);break;case 38:e.preventDefault(),this.focusPreviousMenuItem(r);break;case 9:e.shiftKey?r===t?this.dismiss():(e.preventDefault(),this.focusPreviousMenuItem(r)):r===n?this.dismiss():(e.preventDefault(),this.focusNextMenuItem(r));break;case 13:case 32:e.preventDefault(),r.click()}}};var P=[];Array.prototype.slice.call(document.querySelectorAll(".dropdown-toggle")).forEach((function(e){var t=e.nextElementSibling;t&&t.classList.contains("dropdown-menu")&&P.push(new T(e,t))})),document.addEventListener("click",(function(e){P.forEach((function(t){t.toggle.contains(e.target)||t.dismiss()}))}))})),s=function(){var e=document.querySelector(".voting__feedback");e&&(e.classList.add("voting__feedback--active"),setTimeout((function(){e.classList.remove("voting__feedback--active")}),3e3))},document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelectorAll(".voting__button"),t=document.querySelector(".header__hamburger"),n=document.querySelector(".menu__responsive"),r=document.querySelectorAll(".menu__item > span");e.length&&e.forEach((function(e){e.addEventListener("click",(function(){setTimeout(s,500)}))})),t&&n&&t.addEventListener("click",(function(){t.classList.contains("header__hamburger--open")?(t.classList.remove("header__hamburger--open"),n.classList.remove("menu__responsive--active")):(t.classList.add("header__hamburger--open"),n.classList.add("menu__responsive--active"))})),r.length&&r.forEach((function(e){e.addEventListener("click",(function(){var t,n;t=e.nextElementSibling,n=e.parentElement,t.classList.contains("menu__submenu--active")?(t.classList.remove("menu__submenu--active"),n.classList.remove("menu__item--active")):(t.classList.add("menu__submenu--active"),n.classList.add("menu__item--active"))}))}))})),window.addEventListener("resize",t((function(){window.innerWidth>=1080&&(document.querySelector(".header__hamburger")&&document.querySelector(".header__hamburger").classList.remove("header__hamburger--open"),document.querySelector(".menu__responsive")&&document.querySelector(".menu__responsive").classList.remove("menu__responsive--active"))}),400))})();